# ë² ì–´ë©”íƒˆ Kubernetes ì¸í”„ë¼ ëª¨ë‹ˆí„°ë§ ì„¤ê³„ì„œ

**í”„ë¡œì íŠ¸ëª…**: Bare-Metal K8s Infrastructure Observability
**ë²„ì „**: v1.0
**ì‘ì„±ì¼**: 2025-11-08
**ì‘ì„±ì**: Platform Engineering Team

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [ëŒ€ì‹œë³´ë“œ ì•„í‚¤í…ì²˜](#ëŒ€ì‹œë³´ë“œ-ì•„í‚¤í…ì²˜)
3. [ìƒ‰ìƒ ì‹œìŠ¤í…œ](#ìƒ‰ìƒ-ì‹œìŠ¤í…œ)
4. [ëŒ€ì‹œë³´ë“œ ìƒì„¸ ìŠ¤í™](#ëŒ€ì‹œë³´ë“œ-ìƒì„¸-ìŠ¤í™)
5. [êµ¬í˜„ ê³„íš](#êµ¬í˜„-ê³„íš)

---

## ğŸ“Œ ê°œìš”

### ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ

**ë² ì–´ë©”íƒˆ í™˜ê²½ì˜ Kubernetes í´ëŸ¬ìŠ¤í„° ì¸í”„ë¼**ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ì—¬:

1. **í´ëŸ¬ìŠ¤í„° ê±´ê°•ë„**: ì „ì²´ í´ëŸ¬ìŠ¤í„° ë° ë…¸ë“œ ìƒíƒœ ì¶”ì 
2. **ë¦¬ì†ŒìŠ¤ ìµœì í™”**: CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬ ìš©ëŸ‰ ê´€ë¦¬
3. **ì„±ëŠ¥ ë¶„ì„**: ë³‘ëª© ì§€ì  ì‹ë³„ ë° ìµœì í™” ê¸°íšŒ ë°œê²¬
4. **ìš©ëŸ‰ ê³„íš**: ë¦¬ì†ŒìŠ¤ ì¦ì„¤ ì‹œì  ì˜ˆì¸¡
5. **ì¥ì•  ëŒ€ì‘**: ë¹ ë¥¸ ë¬¸ì œ ì§„ë‹¨ ë° í•´ê²°

### í™˜ê²½ ì •ë³´

```mermaid
graph TB
    subgraph "Bare-Metal Clusters"
        C1[Cluster-01<br/>192.168.101.194<br/>Central]
        C2[Cluster-02<br/>192.168.101.196<br/>Edge]
        C3[Cluster-03<br/>192.168.101.197<br/>Edge]
        C4[Cluster-04<br/>192.168.101.198<br/>Edge]
    end

    subgraph "Infrastructure"
        LH[Longhorn<br/>Distributed Storage]
        CL[Cilium CNI<br/>L2 LoadBalancer]
        IG[Ingress Nginx<br/>HTTP Routing]
    end

    subgraph "Monitoring Stack"
        PR[Prometheus<br/>Metrics Collection]
        TH[Thanos<br/>Multi-Cluster Aggregation]
        GR[Grafana<br/>Visualization]
    end

    C1 --> LH
    C2 --> LH
    C3 --> LH
    C4 --> LH

    C1 --> CL
    C2 --> CL
    C3 --> CL
    C4 --> CL

    C1 --> PR
    C2 --> PR
    C3 --> PR
    C4 --> PR

    PR --> TH
    TH --> GR
```

### ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ì„±ìš”ì†Œ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|---------|------|------|------|
| **Container Runtime** | containerd | 1.7.x | ì»¨í…Œì´ë„ˆ ì‹¤í–‰ |
| **CNI** | Cilium | 1.18.2 | ë„¤íŠ¸ì›Œí‚¹, L2 LoadBalancer |
| **Storage** | Longhorn | 1.7.x | ë¶„ì‚° ë¸”ë¡ ìŠ¤í† ë¦¬ì§€ |
| **Ingress** | Ingress Nginx | 1.11.x | HTTP ë¼ìš°íŒ… |
| **Metrics** | Prometheus | 2.x | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ |
| **Aggregation** | Thanos | 0.39.x | ë©€í‹° í´ëŸ¬ìŠ¤í„° ë©”íŠ¸ë¦­ |
| **Exporters** | node-exporter, kube-state-metrics | latest | ë©”íŠ¸ë¦­ ë…¸ì¶œ |

---

## ğŸ—ï¸ ëŒ€ì‹œë³´ë“œ ì•„í‚¤í…ì²˜

### ëŒ€ì‹œë³´ë“œ êµ¬ì¡° (6ê°œ)

```
ì¿ ë²„ë„¤í‹°ìŠ¤ ì¸í”„ë¼ ëª¨ë‹ˆí„°ë§
â”œâ”€ 01. ì¿ ë²„ë„¤í‹°ìŠ¤-í´ëŸ¬ìŠ¤í„°-ê°œìš”           â† ì „ì²´ ë©€í‹° í´ëŸ¬ìŠ¤í„° ìƒíƒœ
â”œâ”€ 02. ì¿ ë²„ë„¤í‹°ìŠ¤-ë…¸ë“œ-ë¦¬ì†ŒìŠ¤            â† ë…¸ë“œë³„ CPU/ë©”ëª¨ë¦¬/ë””ìŠ¤í¬
â”œâ”€ 03. ì¿ ë²„ë„¤í‹°ìŠ¤-ë„¤íŠ¸ì›Œí¬-ëª¨ë‹ˆí„°ë§      â† Cilium CNI, ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½
â”œâ”€ 04. ì¿ ë²„ë„¤í‹°ìŠ¤-ìŠ¤í† ë¦¬ì§€-ìš©ëŸ‰          â† Longhorn, PVC, Volume
â”œâ”€ 05. ì¿ ë²„ë„¤í‹°ìŠ¤-ì›Œí¬ë¡œë“œ-í˜„í™©          â† Pod, Deployment, StatefulSet
â””â”€ 06. ì¿ ë²„ë„¤í‹°ìŠ¤-ì„±ëŠ¥-ë¶„ì„              â† ë³‘ëª© ì§€ì , ìµœì í™” ê¶Œì¥
```

### Drill-down ë„¤ë¹„ê²Œì´ì…˜

```mermaid
graph LR
    A[01. í´ëŸ¬ìŠ¤í„° ê°œìš”] --> B[02. ë…¸ë“œ ë¦¬ì†ŒìŠ¤]
    A --> C[03. ë„¤íŠ¸ì›Œí¬]
    A --> D[04. ìŠ¤í† ë¦¬ì§€]
    A --> E[05. ì›Œí¬ë¡œë“œ]
    A --> F[06. ì„±ëŠ¥ ë¶„ì„]

    B --> B1[íŠ¹ì • ë…¸ë“œ ìƒì„¸]
    C --> C1[Pod ë„¤íŠ¸ì›Œí¬ ìƒì„¸]
    D --> D1[Volume ìƒì„¸]
    E --> E1[Pod ë¡œê·¸]
    F --> F1[ìµœì í™” ê°€ì´ë“œ]
```

---

## ğŸ¨ ìƒ‰ìƒ ì‹œìŠ¤í…œ

### Kubernetes ì¸í”„ë¼ ì „ìš© íŒŒìŠ¤í…” íŒ”ë ˆíŠ¸

```css
/* 01. Cluster Overview - Soft Blue */
--k8s-cluster: #B8D8F0;
--k8s-cluster-dark: #7FB3E8;

/* 02. Node Resources - Soft Green */
--k8s-node: #B8E5C5;
--k8s-node-dark: #81C995;

/* 03. Network - Soft Teal */
--k8s-network: #A8D8D8;
--k8s-network-dark: #6FB8B8;

/* 04. Storage - Soft Purple */
--k8s-storage: #D5C9E8;
--k8s-storage-dark: #B19CD9;

/* 05. Workload - Soft Orange */
--k8s-workload: #FFD8A8;
--k8s-workload-dark: #FFB347;

/* 06. Performance - Soft Pink */
--k8s-performance: #F9D0DF;
--k8s-performance-dark: #F4A4C4;

/* Status Colors */
--status-healthy: #D5F4E6;    /* ì •ìƒ - ì—°í•œ ë…¹ìƒ‰ */
--status-warning: #FCF3CF;    /* ê²½ê³  - ì—°í•œ ë…¸ë€ìƒ‰ */
--status-critical: #FADBD8;   /* ìœ„í—˜ - ì—°í•œ ë¹¨ê°„ìƒ‰ */
--status-info: #D6EAF8;       /* ì •ë³´ - ì—°í•œ íŒŒë€ìƒ‰ */
```

---

## ğŸ“Š ëŒ€ì‹œë³´ë“œ ìƒì„¸ ìŠ¤í™

### 01. ì¿ ë²„ë„¤í‹°ìŠ¤-í´ëŸ¬ìŠ¤í„°-ê°œìš”

**UID**: `k8s-cluster-overview-v1`
**ì œëª©**: ì¿ ë²„ë„¤í‹°ìŠ¤-01-ì¸í”„ë¼-í´ëŸ¬ìŠ¤í„° ê°œìš”
**ëª©ì **: ë©€í‹° í´ëŸ¬ìŠ¤í„° ì „ì²´ ìƒíƒœë¥¼ í•œëˆˆì— íŒŒì•…

#### í•µì‹¬ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | PromQL | ì„ê³„ê°’ | ì„¤ëª… |
|--------|--------|--------|------|
| í´ëŸ¬ìŠ¤í„° ìˆ˜ | `count(up{job="kube-state-metrics"})` | 4ê°œ | ì´ í´ëŸ¬ìŠ¤í„° ê°œìˆ˜ |
| ì •ìƒ ë…¸ë“œ ë¹„ìœ¨ | `count(kube_node_status_condition{condition="Ready",status="true"}) / count(kube_node_info) * 100` | >95% | Ready ìƒíƒœ ë…¸ë“œ ë¹„ìœ¨ |
| ì´ Pod ìˆ˜ | `count(kube_pod_info)` | - | ì „ì²´ Pod ìˆ˜ |
| Running Pod ë¹„ìœ¨ | `count(kube_pod_status_phase{phase="Running"}) / count(kube_pod_info) * 100` | >90% | ì •ìƒ ì‹¤í–‰ Pod ë¹„ìœ¨ |
| í´ëŸ¬ìŠ¤í„° CPU ì‚¬ìš©ë¥  | `sum(rate(node_cpu_seconds_total{mode!="idle"}[5m])) / sum(rate(node_cpu_seconds_total[5m])) * 100` | <80% | ì „ì²´ CPU ì‚¬ìš©ë¥  |
| í´ëŸ¬ìŠ¤í„° ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  | `(1 - sum(node_memory_MemAvailable_bytes) / sum(node_memory_MemTotal_bytes)) * 100` | <85% | ì „ì²´ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  |

#### íŒ¨ë„ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì¿ ë²„ë„¤í‹°ìŠ¤-01-ì¸í”„ë¼-í´ëŸ¬ìŠ¤í„° ê°œìš”                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Stat] [Stat] [Stat] [Stat]                                     â”‚
â”‚  4ê°œ     100%    245ê°œ    92%                                   â”‚
â”‚ í´ëŸ¬ìŠ¤í„°  ì •ìƒë…¸ë“œ  ì´Pod  Running                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ë©€í‹° í´ëŸ¬ìŠ¤í„° ìƒíƒœ í…Œì´ë¸”]                                      â”‚
â”‚ Cluster      | Nodes | Pods | CPU% | Memory% | Status          â”‚
â”‚ cluster-01   |   1   |  45  | 67%  |  74%    | ğŸŸ¢ Healthy      â”‚
â”‚ cluster-02   |   1   |  38  | 54%  |  62%    | ğŸŸ¢ Healthy      â”‚
â”‚ cluster-03   |   1   |  42  | 61%  |  69%    | ğŸŸ¢ Healthy      â”‚
â”‚ cluster-04   |   1   |  40  | 58%  |  65%    | ğŸŸ¢ Healthy      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Time Series] CPU ì‚¬ìš©ë¥  ì¶”ì´ (í´ëŸ¬ìŠ¤í„°ë³„)                      â”‚
â”‚ [Time Series] ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ì¶”ì´ (í´ëŸ¬ìŠ¤í„°ë³„)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ë¹ ë¥¸ ì´ë™]                                                     â”‚
â”‚ ğŸ–¥ï¸ ë…¸ë“œ | ğŸŒ ë„¤íŠ¸ì›Œí¬ | ğŸ’¾ ìŠ¤í† ë¦¬ì§€ | ğŸ“¦ ì›Œí¬ë¡œë“œ | âš¡ ì„±ëŠ¥   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 02. ì¿ ë²„ë„¤í‹°ìŠ¤-ë…¸ë“œ-ë¦¬ì†ŒìŠ¤

**UID**: `k8s-node-resources-v1`
**ì œëª©**: ì¿ ë²„ë„¤í‹°ìŠ¤-02-ì¸í”„ë¼-ë…¸ë“œ ë¦¬ì†ŒìŠ¤
**ëª©ì **: ê° ë…¸ë“œì˜ CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ìƒì„¸ ëª¨ë‹ˆí„°ë§

#### í•µì‹¬ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | PromQL | ì„ê³„ê°’ | ì„¤ëª… |
|--------|--------|--------|------|
| ë…¸ë“œ CPU ì‚¬ìš©ë¥  | `100 - (avg(rate(node_cpu_seconds_total{mode="idle"}[5m])) by (instance) * 100)` | <80% | ë…¸ë“œë³„ CPU ì‚¬ìš©ë¥  |
| ë…¸ë“œ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  | `(1 - node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100` | <85% | ë…¸ë“œë³„ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  |
| ë…¸ë“œ ë””ìŠ¤í¬ ì‚¬ìš©ë¥  | `(node_filesystem_size_bytes{mountpoint="/"} - node_filesystem_free_bytes{mountpoint="/"}) / node_filesystem_size_bytes{mountpoint="/"} * 100` | <90% | ë£¨íŠ¸ íŒŒì¼ì‹œìŠ¤í…œ ì‚¬ìš©ë¥  |
| ë…¸ë“œ Uptime | `node_time_seconds - node_boot_time_seconds` | - | ë…¸ë“œ ê°€ë™ ì‹œê°„ |
| Load Average (1m) | `node_load1` | <CPU cores | 1ë¶„ í‰ê·  ë¶€í•˜ |
| Load Average (5m) | `node_load5` | <CPU cores | 5ë¶„ í‰ê·  ë¶€í•˜ |
| Load Average (15m) | `node_load15` | <CPU cores | 15ë¶„ í‰ê·  ë¶€í•˜ |
| Disk I/O ì‚¬ìš©ë¥  | `rate(node_disk_io_time_seconds_total[5m]) * 100` | <70% | ë””ìŠ¤í¬ I/O ì‚¬ìš©ë¥  |

---

### 03. ì¿ ë²„ë„¤í‹°ìŠ¤-ë„¤íŠ¸ì›Œí¬-ëª¨ë‹ˆí„°ë§

**UID**: `k8s-network-monitoring-v1`
**ì œëª©**: ì¿ ë²„ë„¤í‹°ìŠ¤-03-ì¸í”„ë¼-ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§
**ëª©ì **: Cilium CNI, Pod ë„¤íŠ¸ì›Œí¬, Ingress íŠ¸ë˜í”½ ëª¨ë‹ˆí„°ë§

#### í•µì‹¬ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | PromQL | ì„ê³„ê°’ | ì„¤ëª… |
|--------|--------|--------|------|
| Pod ë„¤íŠ¸ì›Œí¬ ìˆ˜ì‹  | `rate(container_network_receive_bytes_total{pod!=""}[5m])` | - | Podë³„ ë„¤íŠ¸ì›Œí¬ ìˆ˜ì‹  ì†ë„ |
| Pod ë„¤íŠ¸ì›Œí¬ ì „ì†¡ | `rate(container_network_transmit_bytes_total{pod!=""}[5m])` | - | Podë³„ ë„¤íŠ¸ì›Œí¬ ì „ì†¡ ì†ë„ |
| Ingress ìš”ì²­ ìˆ˜ | `sum(rate(nginx_ingress_controller_requests[5m])) by (host)` | - | Ingressë³„ ìš”ì²­ ìˆ˜ |
| Ingress ì‘ë‹µ ì‹œê°„ | `histogram_quantile(0.95, nginx_ingress_controller_request_duration_seconds_bucket)` | <1s | Ingress ì‘ë‹µ ì‹œê°„ P95 |
| Cilium ì—”ë“œí¬ì¸íŠ¸ | `cilium_endpoint_state{state="ready"}` | - | Cilium ê´€ë¦¬ ì—”ë“œí¬ì¸íŠ¸ ìˆ˜ |
| ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ | `rate(node_network_receive_errs_total[5m]) + rate(node_network_transmit_errs_total[5m])` | 0 | ë„¤íŠ¸ì›Œí¬ ì†¡ìˆ˜ì‹  ì—ëŸ¬ |

---

### 04. ì¿ ë²„ë„¤í‹°ìŠ¤-ìŠ¤í† ë¦¬ì§€-ìš©ëŸ‰

**UID**: `k8s-storage-capacity-v1`
**ì œëª©**: ì¿ ë²„ë„¤í‹°ìŠ¤-04-ì¸í”„ë¼-ìŠ¤í† ë¦¬ì§€ ìš©ëŸ‰
**ëª©ì **: Longhorn ë³¼ë¥¨, PVC ìš©ëŸ‰ ê´€ë¦¬

#### í•µì‹¬ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | PromQL | ì„ê³„ê°’ | ì„¤ëª… |
|--------|--------|--------|------|
| Longhorn ë³¼ë¥¨ ìˆ˜ | `count(longhorn_volume_actual_size_bytes)` | - | ì´ Longhorn ë³¼ë¥¨ ê°œìˆ˜ |
| Longhorn ìš©ëŸ‰ ì‚¬ìš©ë¥  | `sum(longhorn_volume_actual_size_bytes) / sum(longhorn_node_storage_capacity_bytes) * 100` | <80% | Longhorn ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ë¥  |
| PVC ì‚¬ìš©ë¥  | `kubelet_volume_stats_used_bytes / kubelet_volume_stats_capacity_bytes * 100` | <90% | PVCë³„ ìš©ëŸ‰ ì‚¬ìš©ë¥  |
| PVC Inodes ì‚¬ìš©ë¥  | `kubelet_volume_stats_inodes_used / kubelet_volume_stats_inodes * 100` | <80% | PVC inode ì‚¬ìš©ë¥  |
| Longhorn Replica ìƒíƒœ | `longhorn_volume_robustness{robustness="healthy"}` | ëª¨ë‘ healthy | ë³¼ë¥¨ Replica ê±´ê°•ë„ |
| ìŠ¤í† ë¦¬ì§€ IOPS | `rate(node_disk_reads_completed_total[5m]) + rate(node_disk_writes_completed_total[5m])` | - | ë””ìŠ¤í¬ IOPS |

---

### 05. ì¿ ë²„ë„¤í‹°ìŠ¤-ì›Œí¬ë¡œë“œ-í˜„í™©

**UID**: `k8s-workload-status-v1`
**ì œëª©**: ì¿ ë²„ë„¤í‹°ìŠ¤-05-ì¸í”„ë¼-ì›Œí¬ë¡œë“œ í˜„í™©
**ëª©ì **: Pod, Deployment, StatefulSet ìƒíƒœ ì¶”ì 

#### í•µì‹¬ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | PromQL | ì„ê³„ê°’ | ì„¤ëª… |
|--------|--------|--------|------|
| Pod ìƒíƒœë³„ ê°œìˆ˜ | `count(kube_pod_status_phase) by (phase)` | - | Running/Pending/Failed Pod ìˆ˜ |
| Container ì¬ì‹œì‘ | `rate(kube_pod_container_status_restarts_total[5m])` | <0.1 | Container ì¬ì‹œì‘ ë¹ˆë„ |
| Deployment Available | `kube_deployment_status_replicas_available / kube_deployment_spec_replicas * 100` | 100% | Deployment ê°€ìš© Replica ë¹„ìœ¨ |
| StatefulSet Ready | `kube_statefulset_status_replicas_ready / kube_statefulset_replicas * 100` | 100% | StatefulSet Ready Replica ë¹„ìœ¨ |
| DaemonSet Ready | `kube_daemonset_status_number_ready / kube_daemonset_status_desired_number_scheduled * 100` | 100% | DaemonSet Ready Pod ë¹„ìœ¨ |
| CrashLoopBackOff | `count(kube_pod_container_status_waiting_reason{reason="CrashLoopBackOff"})` | 0 | CrashLoop ìƒíƒœ Pod ìˆ˜ |
| ImagePullBackOff | `count(kube_pod_container_status_waiting_reason{reason="ImagePullBackOff"})` | 0 | Image Pull ì‹¤íŒ¨ Pod ìˆ˜ |

---

### 06. ì¿ ë²„ë„¤í‹°ìŠ¤-ì„±ëŠ¥-ë¶„ì„

**UID**: `k8s-performance-analysis-v1`
**ì œëª©**: ì¿ ë²„ë„¤í‹°ìŠ¤-06-ì¸í”„ë¼-ì„±ëŠ¥ ë¶„ì„
**ëª©ì **: ë³‘ëª© ì§€ì  ì‹ë³„, ìµœì í™” ê¶Œì¥ì‚¬í•­ ì œê³µ

#### í•µì‹¬ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | PromQL | ì„ê³„ê°’ | ì„¤ëª… |
|--------|--------|--------|------|
| CPU ê³¼ë‹¤ í• ë‹¹ Pod | `kube_pod_container_resource_requests{resource="cpu"} > on(pod) container_cpu_usage_seconds_total * 2` | - | CPU Request ê³¼ë‹¤ í• ë‹¹ Pod |
| ë©”ëª¨ë¦¬ ê³¼ë‹¤ í• ë‹¹ Pod | `kube_pod_container_resource_requests{resource="memory"} > on(pod) container_memory_working_set_bytes * 2` | - | ë©”ëª¨ë¦¬ Request ê³¼ë‹¤ í• ë‹¹ Pod |
| OOMKilled Container | `kube_pod_container_status_terminated_reason{reason="OOMKilled"}` | 0 | ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì¢…ë£Œëœ Container |
| Throttled Container | `rate(container_cpu_cfs_throttled_seconds_total[5m]) > 0` | - | CPU Throttling ë°œìƒ Container |
| ë…¸ë“œ ì••ë°• ìƒíƒœ | `kube_node_status_condition{condition=~"MemoryPressure|DiskPressure",status="true"}` | 0 | ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ì••ë°• |
| ëŠë¦° ìŠ¤í† ë¦¬ì§€ I/O | `rate(node_disk_io_time_weighted_seconds_total[5m]) > 0.1` | <0.1 | ë””ìŠ¤í¬ I/O ëŒ€ê¸° ì‹œê°„ |

---

## ğŸš€ êµ¬í˜„ ê³„íš

### Phase 1: ê¸°ë°˜ êµ¬ì¶• (1ì¼)

- [x] ë² ì–´ë©”íƒˆ K8s ì¸í”„ë¼ ìŠ¤í™ ë¬¸ì„œ ì‘ì„±
- [ ] ìƒ‰ìƒ ì‹œìŠ¤í…œ ì •ì˜
- [ ] Dashboard í…œí”Œë¦¿ êµ¬ì¡° ì„¤ê³„

### Phase 2: Core Dashboards (2ì¼)

- [ ] 01. í´ëŸ¬ìŠ¤í„°-ê°œìš” ëŒ€ì‹œë³´ë“œ
- [ ] 02. ë…¸ë“œ-ë¦¬ì†ŒìŠ¤ ëŒ€ì‹œë³´ë“œ
- [ ] 03. ë„¤íŠ¸ì›Œí¬-ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

### Phase 3: Advanced Dashboards (2ì¼)

- [ ] 04. ìŠ¤í† ë¦¬ì§€-ìš©ëŸ‰ ëŒ€ì‹œë³´ë“œ
- [ ] 05. ì›Œí¬ë¡œë“œ-í˜„í™© ëŒ€ì‹œë³´ë“œ
- [ ] 06. ì„±ëŠ¥-ë¶„ì„ ëŒ€ì‹œë³´ë“œ

### Phase 4: ê²€ì¦ ë° ë°°í¬ (1ì¼)

- [ ] PromQL ë©”íŠ¸ë¦­ ê²€ì¦
- [ ] Grafana ë°°í¬ ë° í…ŒìŠ¤íŠ¸
- [ ] ë„¤ë¹„ê²Œì´ì…˜ ë§í¬ ì—°ê²°
- [ ] ë¬¸ì„œí™” ì™„ë£Œ

---

## ğŸ“ ë©”íŠ¸ë¦­ ë°ì´í„° ì†ŒìŠ¤

### Prometheus Exporters

- **node-exporter**: ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ë©”íŠ¸ë¦­ (CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬)
- **kube-state-metrics**: Kubernetes ë¦¬ì†ŒìŠ¤ ìƒíƒœ ë©”íŠ¸ë¦­
- **cadvisor**: Container ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰
- **Longhorn**: ìŠ¤í† ë¦¬ì§€ ë³¼ë¥¨ ë©”íŠ¸ë¦­
- **Cilium**: CNI ë„¤íŠ¸ì›Œí¬ ë©”íŠ¸ë¦­
- **Ingress Nginx**: HTTP íŠ¸ë˜í”½ ë©”íŠ¸ë¦­

### Thanos í†µí•©

- ë©€í‹° í´ëŸ¬ìŠ¤í„° ë©”íŠ¸ë¦­ ì§‘ê³„
- ì¥ê¸° ë©”íŠ¸ë¦­ ë³´ê´€ (S3)
- ê¸€ë¡œë²Œ ì¿¼ë¦¬ ì¸í„°í˜ì´ìŠ¤

---

## ğŸ¯ ì„±ê³µ ê¸°ì¤€

1. âœ… ëª¨ë“  í´ëŸ¬ìŠ¤í„°ì˜ ë…¸ë“œ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥
2. âœ… ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥  80% ë„ë‹¬ ì‹œ ìë™ ì•Œë¦¼
3. âœ… ìŠ¤í† ë¦¬ì§€ ìš©ëŸ‰ 90% ë„ë‹¬ ì‹œ ê²½ê³ 
4. âœ… Pod ì¥ì•  ë°œìƒ ì‹œ 5ë¶„ ë‚´ ê°ì§€
5. âœ… ì„±ëŠ¥ ë³‘ëª© ì§€ì  ì‹ë³„ ë° ìµœì í™” ê°€ì´ë“œ ì œê³µ

---

**ì‘ì„±ì**: Platform Engineering Team
**ìµœì¢… ìˆ˜ì •**: 2025-11-08
**ë²„ì „**: 1.0
