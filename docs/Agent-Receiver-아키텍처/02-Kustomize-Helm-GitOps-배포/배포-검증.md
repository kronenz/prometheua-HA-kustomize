# ë°°í¬ ê²€ì¦

## ğŸ“‹ ê°œìš”

4ê°œ í´ëŸ¬ìŠ¤í„°ì— ë°°í¬ëœ Prometheus Agent + Thanos Receiver í™˜ê²½ì˜ ì •ìƒ ë™ì‘ì„ ì²´ê³„ì ìœ¼ë¡œ ê²€ì¦í•©ë‹ˆë‹¤.

---

## ğŸ¯ ê²€ì¦ ëª©í‘œ

- **Pod ìƒíƒœ í™•ì¸** (Running, Ready)
- **PVC ë°”ì¸ë”© í™•ì¸** (Bound)
- **Service/Endpoint í™•ì¸**
- **Remote Write ì—°ê²° í™•ì¸**
- **S3 ì—…ë¡œë“œ í™•ì¸**
- **ë©”íŠ¸ë¦­ ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸**
- **ê³ ê°€ìš©ì„± í™•ì¸**
- **ì„±ëŠ¥ ë©”íŠ¸ë¦­ í™•ì¸**

---

## 1ï¸âƒ£ Pod ìƒíƒœ í™•ì¸

### Cluster-01 (Central)

```bash
# Cluster-01 ì ‘ì†
export KUBECONFIG=~/.kube/configs/cluster-01.conf

# ëª¨ë“  Pod í™•ì¸
kubectl get pods -n monitoring

# ì¶œë ¥ ì˜ˆì‹œ:
# NAME                                                   READY   STATUS    RESTARTS   AGE
# prometheus-kube-prometheus-stack-prometheus-0          3/3     Running   0          2h
# prometheus-kube-prometheus-stack-prometheus-1          3/3     Running   0          2h
# thanos-receive-0                                       1/1     Running   0          2h
# thanos-receive-1                                       1/1     Running   0          2h
# thanos-receive-2                                       1/1     Running   0          2h
# thanos-query-xxx                                       1/1     Running   0          2h
# thanos-store-xxx                                       1/1     Running   0          2h
# thanos-compactor-0                                     1/1     Running   0          2h
# grafana-xxx                                            1/1     Running   0          2h

# ìƒíƒœ ìš”ì•½
kubectl get pods -n monitoring --no-headers | awk '{print $3}' | sort | uniq -c

# ì¶œë ¥:
# 12 Running
```

### Cluster-02 (Edge Multi-Tenant)

```bash
# Cluster-02 ì ‘ì†
export KUBECONFIG=~/.kube/configs/cluster-02.conf

# Tenant A Namespace
kubectl get pods -n monitoring-tenant-a

# ì¶œë ¥:
# prometheus-agent-tenant-a-0   2/2   Running   0   1h
# prometheus-node-exporter-xxx  1/1   Running   0   1h

# Tenant B Namespace
kubectl get pods -n monitoring-tenant-b

# Shared Namespace
kubectl get pods -n monitoring

# ì¶œë ¥:
# kube-state-metrics-xxx   1/1   Running   0   1h
```

### Cluster-03, Cluster-04 (Edge)

```bash
# Cluster-03
export KUBECONFIG=~/.kube/configs/cluster-03.conf
kubectl get pods -n monitoring

# ì¶œë ¥:
# prometheus-agent-prometheus-agent-0   2/2   Running   0   1h
# prometheus-node-exporter-xxx          1/1   Running   0   1h
# kube-state-metrics-xxx                1/1   Running   0   1h

# Cluster-04 (ë™ì¼)
export KUBECONFIG=~/.kube/configs/cluster-04.conf
kubectl get pods -n monitoring
```

### ìë™í™” ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# check-all-pods.sh

for cluster in cluster-01 cluster-02 cluster-03 cluster-04; do
  echo "=== $cluster ==="
  export KUBECONFIG=~/.kube/configs/$cluster.conf

  if [[ "$cluster" == "cluster-02" ]]; then
    kubectl get pods -n monitoring-tenant-a --no-headers | wc -l
    kubectl get pods -n monitoring-tenant-b --no-headers | wc -l
    kubectl get pods -n monitoring --no-headers | wc -l
  else
    kubectl get pods -n monitoring --no-headers | wc -l
  fi

  echo ""
done
```

---

## 2ï¸âƒ£ PVC ë°”ì¸ë”© í™•ì¸

### Cluster-01 PVC

```bash
export KUBECONFIG=~/.kube/configs/cluster-01.conf

# PVC ëª©ë¡
kubectl get pvc -n monitoring

# ì¶œë ¥:
# NAME                                    STATUS   VOLUME              CAPACITY   STORAGECLASS
# prometheus-kube-...-prometheus-0        Bound    pvc-xxx             100Gi      longhorn
# prometheus-kube-...-prometheus-1        Bound    pvc-yyy             100Gi      longhorn
# data-thanos-receive-0                   Bound    pvc-zzz             100Gi      longhorn
# data-thanos-receive-1                   Bound    pvc-aaa             100Gi      longhorn
# data-thanos-receive-2                   Bound    pvc-bbb             100Gi      longhorn
# data-thanos-compactor-0                 Bound    pvc-ccc             50Gi       longhorn

# Bound ìƒíƒœ í™•ì¸
kubectl get pvc -n monitoring --no-headers | awk '{print $2}' | sort | uniq -c

# ì¶œë ¥:
# 6 Bound
```

### ì—£ì§€ í´ëŸ¬ìŠ¤í„° PVC

```bash
# Cluster-03
export KUBECONFIG=~/.kube/configs/cluster-03.conf
kubectl get pvc -n monitoring

# ì¶œë ¥:
# prometheus-agent-prometheus-agent-0   Bound   pvc-xxx   50Gi   longhorn

# Cluster-04 (ë™ì¼)
```

---

## 3ï¸âƒ£ Service/Endpoint í™•ì¸

### Thanos Receiver Service

```bash
export KUBECONFIG=~/.kube/configs/cluster-01.conf

# Service í™•ì¸
kubectl get svc -n monitoring thanos-receive

# ì¶œë ¥:
# NAME             TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)
# thanos-receive   ClusterIP   None         <none>        10901/TCP,10902/TCP,19291/TCP

# Endpoint í™•ì¸
kubectl get endpoints -n monitoring thanos-receive

# ì¶œë ¥:
# NAME             ENDPOINTS
# thanos-receive   10.244.0.10:10901,10.244.0.11:10901,10.244.0.12:10901

# LoadBalancer Service
kubectl get svc -n monitoring thanos-receive-lb

# ì¶œë ¥:
# NAME                TYPE        CLUSTER-IP      PORT(S)
# thanos-receive-lb   ClusterIP   10.96.123.45    19291/TCP
```

### Thanos Query Service

```bash
kubectl get svc -n monitoring thanos-query

# ì¶œë ¥:
# NAME           TYPE        CLUSTER-IP      PORT(S)
# thanos-query   ClusterIP   10.96.234.56    9090/TCP

# Port-Forward í…ŒìŠ¤íŠ¸
kubectl port-forward -n monitoring svc/thanos-query 9090:9090 &

# curl í…ŒìŠ¤íŠ¸
curl -s http://localhost:9090/-/healthy

# ì¶œë ¥:
# Thanos is Healthy.
```

### Grafana Ingress

```bash
kubectl get ingress -n monitoring

# ì¶œë ¥:
# NAME      CLASS   HOSTS                                ADDRESS
# grafana   nginx   grafana.k8s-cluster-01.miribit.lab   192.168.101.210

# curl í…ŒìŠ¤íŠ¸
curl -I http://grafana.k8s-cluster-01.miribit.lab

# ì¶œë ¥:
# HTTP/1.1 302 Found
# Location: /login
```

---

## 4ï¸âƒ£ Remote Write ì—°ê²° í™•ì¸

### Agentì—ì„œ í™•ì¸ (Cluster-03)

```bash
export KUBECONFIG=~/.kube/configs/cluster-03.conf

# Agent Pod ì ‘ì†
kubectl exec -it -n monitoring prometheus-agent-prometheus-agent-0 -- sh

# Remote Write ìƒíƒœ í™•ì¸ (Container ë‚´ë¶€)
wget -qO- http://localhost:9090/api/v1/status/runtimeinfo | jq .

# ì¶œë ¥:
# {
#   "status": "success",
#   "data": {
#     "startTime": "2025-10-20T...",
#     "storageRetention": "7d",
#     "remoteWrite": [
#       {
#         "url": "http://thanos-receive-lb.../api/v1/receive",
#         "name": "thanos-receiver",
#         "queueLength": 0,
#         "samplesDropped": 0
#       }
#     ]
#   }
# }
```

### Receiverì—ì„œ í™•ì¸ (Cluster-01)

```bash
export KUBECONFIG=~/.kube/configs/cluster-01.conf

# Receiver ë¡œê·¸ í™•ì¸
kubectl logs -n monitoring thanos-receive-0 --tail=50 | grep "remote write"

# ë¡œê·¸ ì˜ˆì‹œ:
# level=info ts=2025-10-20T... msg="handling remote write request"
#   cluster=cluster-03 samples=1250 tenant=default

# Receiver ë©”íŠ¸ë¦­ í™•ì¸
kubectl port-forward -n monitoring thanos-receive-0 10902:10902 &
curl -s http://localhost:10902/metrics | grep thanos_receive_

# ì¶œë ¥:
# thanos_receive_write_requests_total{cluster="cluster-03"} 1250
# thanos_receive_write_timeseries_total{cluster="cluster-03"} 50000
```

### PromQLë¡œ Remote Write ì„±ê³µë¥ 

```promql
# Remote Write ì„±ê³µ ìƒ˜í”Œ
sum(rate(prometheus_remote_storage_succeeded_samples_total[5m])) by (cluster)

# ì¶œë ¥:
# {cluster="cluster-01"} 0       (Agent Mode, Remote Write ì—†ìŒ)
# {cluster="cluster-02"} 12500   (Tenant A + B)
# {cluster="cluster-03"} 8000
# {cluster="cluster-04"} 7500

# Remote Write ì‹¤íŒ¨ ìƒ˜í”Œ
sum(rate(prometheus_remote_storage_failed_samples_total[5m])) by (cluster)

# ì¶œë ¥:
# {cluster="cluster-03"} 0  (ì •ìƒ)
# {cluster="cluster-04"} 0

# ì„±ê³µë¥ 
sum(rate(prometheus_remote_storage_succeeded_samples_total[5m]))
/
(sum(rate(prometheus_remote_storage_succeeded_samples_total[5m]))
 + sum(rate(prometheus_remote_storage_failed_samples_total[5m])))

# ì¶œë ¥: 1.0 (100%)
```

---

## 5ï¸âƒ£ S3 ì—…ë¡œë“œ í™•ì¸

### MinIOì—ì„œ í™•ì¸

```bash
# MinIO Client
mc ls minio/thanos-cluster-01/

# ì¶œë ¥:
# [2025-10-20 14:00:00 KST] 256MiB thanos/01HJXXX.../
# [2025-10-20 15:00:00 KST] 128MiB thanos/01HJYYY.../

# ì¬ê·€ í™•ì¸
mc ls --recursive minio/thanos-cluster-01/ | head -20

# ì¶œë ¥:
# [2025-10-20] 1.2MiB thanos/01HJXXX.../meta.json
# [2025-10-20] 64KiB  thanos/01HJXXX.../index
# [2025-10-20] 128MiB thanos/01HJXXX.../chunks/000001

# ë¸”ë¡ ìˆ˜ ì¹´ìš´íŠ¸
mc ls --recursive minio/thanos-cluster-01/ | grep "meta.json" | wc -l

# ì¶œë ¥: 42 (ë¸”ë¡ ìˆ˜)
```

### Thanos Sidecar ë¡œê·¸

```bash
export KUBECONFIG=~/.kube/configs/cluster-01.conf

# Prometheus Podì˜ Sidecar ì»¨í…Œì´ë„ˆ ë¡œê·¸
kubectl logs -n monitoring prometheus-kube-prometheus-stack-prometheus-0 \
  -c thanos-sidecar --tail=100 | grep "uploaded"

# ë¡œê·¸ ì˜ˆì‹œ:
# level=info ts=2025-10-20T14:05:23Z msg="uploaded block"
#   id=01HJXXX... duration=12.5s size=256MB
# level=info ts=2025-10-20T15:05:23Z msg="uploaded block"
#   id=01HJYYY... duration=10.2s size=128MB
```

### Thanos Store ë™ê¸°í™” í™•ì¸

```bash
# Store Gateway ë¡œê·¸
kubectl logs -n monitoring deployment/thanos-store --tail=50 | grep "synced blocks"

# ë¡œê·¸ ì˜ˆì‹œ:
# level=info ts=2025-10-20T15:10:00Z msg="synced blocks" blocks=42 duration=3.2s
```

### PromQLë¡œ S3 ë©”íŠ¸ë¦­

```promql
# Sidecar ì—…ë¡œë“œ ì´ ìˆ˜
thanos_shipper_uploads_total

# ì¶œë ¥:
# {instance="prometheus-0"} 125
# {instance="prometheus-1"} 118

# Compactor ì²˜ë¦¬ ë¸”ë¡
thanos_compact_group_compactions_total

# Store ë™ê¸°í™” ë¸”ë¡
thanos_bucket_store_blocks_loaded

# ì¶œë ¥: 42
```

---

## 6ï¸âƒ£ ë©”íŠ¸ë¦­ ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸

### Thanos Query ì ‘ì†

```bash
# Port-Forward
kubectl port-forward -n monitoring svc/thanos-query 9090:9090

# ë¸Œë¼ìš°ì €: http://localhost:9090
```

### ê¸°ë³¸ ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸

```promql
# 1. ëª¨ë“  í´ëŸ¬ìŠ¤í„° íƒ€ê²Ÿ í™•ì¸
up

# ì¶œë ¥:
# up{cluster="cluster-01", job="prometheus", ...} 1
# up{cluster="cluster-02", tenant="tenant-a", ...} 1
# up{cluster="cluster-03", job="node-exporter", ...} 1

# 2. í´ëŸ¬ìŠ¤í„°ë³„ íƒ€ê²Ÿ ìˆ˜
count(up == 1) by (cluster)

# ì¶œë ¥:
# {cluster="cluster-01"} 50
# {cluster="cluster-02"} 60  (Tenant A + B)
# {cluster="cluster-03"} 45
# {cluster="cluster-04"} 40

# 3. Tenantë³„ ë©”íŠ¸ë¦­ (Cluster-02)
count(up == 1) by (tenant)

# ì¶œë ¥:
# {tenant="tenant-a"} 30
# {tenant="tenant-b"} 30
```

### ì‹œê³„ì—´ ì—°ì†ì„± í™•ì¸

```promql
# ìµœê·¼ 24ì‹œê°„ ë©”íŠ¸ë¦­ ì¡´ì¬ í™•ì¸
count_over_time(up{cluster="cluster-03"}[24h])

# ì¶œë ¥: 2880 (24h * 60m / 30s scrape interval = 2880 samples)

# ë°ì´í„° ê°­ í™•ì¸ (1ë¶„ ì´ìƒ ëˆ„ë½)
(time() - max(timestamp(up{cluster="cluster-03"}))) > 60

# ì¶œë ¥: (ë¹„ì–´ìˆìœ¼ë©´ ì •ìƒ)
```

### íˆìŠ¤í† ë¦¬ì»¬ ì¿¼ë¦¬ (S3 ë°ì´í„°)

```promql
# 7ì¼ ì „ ë©”íŠ¸ë¦­ í™•ì¸ (Sidecar S3 ì—…ë¡œë“œ ë°ì´í„°)
up{cluster="cluster-03"}[7d:30s] offset 7d

# 30ì¼ ì „ ë©”íŠ¸ë¦­ (5ë¶„ ë‹¤ìš´ìƒ˜í”Œë§ ë°ì´í„°)
avg_over_time(up{cluster="cluster-03"}[5m] offset 30d)
```

---

## 7ï¸âƒ£ ê³ ê°€ìš©ì„± í™•ì¸

### Prometheus HA ì¤‘ë³µ ì œê±°

```promql
# Prometheus ë ˆí”Œë¦¬ì¹´ ë©”íŠ¸ë¦­ (ì¤‘ë³µ ì œê±° ì „)
up{job="prometheus", cluster="cluster-01"}

# ì¶œë ¥:
# up{replica="prometheus-0", ...} 1
# up{replica="prometheus-1", ...} 1  (ì¤‘ë³µ)

# Thanos Query ì¤‘ë³µ ì œê±° (replica ë ˆì´ë¸”ë¡œ)
# Query UIì—ì„œ "Deduplication: Enabled" í™•ì¸
```

### Receiver Replication Factor í™•ì¸

```bash
# Receiver Hashring ConfigMap í™•ì¸
kubectl get cm -n monitoring thanos-receive-hashring -o yaml

# ì¶œë ¥:
# hashrings.json:
#   - hashring: "default"
#     endpoints: ["receive-0", "receive-1", "receive-2"]
#     replication-factor: 3

# Receiver ë¡œê·¸ì—ì„œ ë³µì œ í™•ì¸
kubectl logs -n monitoring thanos-receive-0 | grep "replication"

# ë¡œê·¸ ì˜ˆì‹œ:
# level=info msg="replication factor" factor=3
```

### Receiver ì¥ì•  ì‹œë®¬ë ˆì´ì…˜

```bash
# Receiver-0 ì‚­ì œ
kubectl delete pod -n monitoring thanos-receive-0

# Remote Write ì—°ì†ì„± í™•ì¸ (ë‹¤ë¥¸ Receiverë¡œ ìë™ ë¼ìš°íŒ…)
kubectl logs -n monitoring thanos-receive-1 --tail=20 | grep "remote write"

# ì¶œë ¥:
# level=info msg="handling remote write" samples=1250 (ì •ìƒ)

# Receiver-0 ì¬ìƒì„± í™•ì¸
kubectl get pods -n monitoring thanos-receive-0

# ì¶œë ¥:
# thanos-receive-0   1/1   Running   0   30s  (ìë™ ë³µêµ¬)
```

---

## 8ï¸âƒ£ ì„±ëŠ¥ ë©”íŠ¸ë¦­ í™•ì¸

### Remote Write ì§€ì—° ì‹œê°„

```promql
# Remote Write ì§€ì—° (ì´ˆ)
histogram_quantile(0.99,
  rate(prometheus_remote_storage_send_duration_seconds_bucket[5m])
)

# ì¶œë ¥: 0.5 (500ms, p99)

# í‰ê·  ì§€ì—°
rate(prometheus_remote_storage_send_duration_seconds_sum[5m])
/
rate(prometheus_remote_storage_send_duration_seconds_count[5m])

# ì¶œë ¥: 0.2 (200ms, avg)
```

### Thanos Query ì‘ë‹µ ì‹œê°„

```promql
# Query ì‘ë‹µ ì‹œê°„ (ì´ˆ)
histogram_quantile(0.99,
  rate(http_request_duration_seconds_bucket{handler="query"}[5m])
)

# ì¶œë ¥: 1.5 (1.5s, p99)
```

### ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰

```promql
# Prometheus Agent ë©”ëª¨ë¦¬
container_memory_usage_bytes{pod=~"prometheus-agent.*"} / 1024 / 1024

# ì¶œë ¥: 256 (256MB)

# Thanos Receiver ë©”ëª¨ë¦¬
container_memory_usage_bytes{pod=~"thanos-receive.*"} / 1024 / 1024

# ì¶œë ¥: 1024 (1GB per replica)

# Thanos Query CPU
rate(container_cpu_usage_seconds_total{pod=~"thanos-query.*"}[5m])

# ì¶œë ¥: 0.5 (0.5 cores)
```

---

## 9ï¸âƒ£ ìë™ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

### ì „ì²´ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# validate-deployment.sh

set -e

CLUSTERS=("cluster-01" "cluster-02" "cluster-03" "cluster-04")

echo "=== Thanos Multi-Cluster Deployment Validation ==="
echo ""

for cluster in "${CLUSTERS[@]}"; do
  echo "--- Validating $cluster ---"
  export KUBECONFIG=~/.kube/configs/$cluster.conf

  # Pod ìƒíƒœ
  echo -n "Pods: "
  kubectl get pods -n monitoring --no-headers 2>/dev/null | wc -l

  # PVC ë°”ì¸ë”©
  echo -n "PVCs (Bound): "
  kubectl get pvc -n monitoring --no-headers 2>/dev/null | grep Bound | wc -l

  # Service
  echo -n "Services: "
  kubectl get svc -n monitoring --no-headers 2>/dev/null | wc -l

  echo ""
done

# Central Cluster ì¶”ê°€ ê²€ì¦
export KUBECONFIG=~/.kube/configs/cluster-01.conf

echo "--- Thanos Components (cluster-01) ---"
echo -n "Receiver Pods: "
kubectl get pods -n monitoring -l app=thanos-receive --no-headers | wc -l

echo -n "Query Pods: "
kubectl get pods -n monitoring -l app=thanos-query --no-headers | wc -l

echo -n "Store Pods: "
kubectl get pods -n monitoring -l app=thanos-store --no-headers | wc -l

echo -n "Compactor Pods: "
kubectl get pods -n monitoring -l app=thanos-compactor --no-headers | wc -l

echo ""

# Remote Write í™•ì¸
echo "--- Remote Write Status ---"
for cluster in cluster-03 cluster-04; do
  export KUBECONFIG=~/.kube/configs/$cluster.conf
  POD=$(kubectl get pods -n monitoring -l app.kubernetes.io/name=prometheus -o name | head -1)

  if [[ -n "$POD" ]]; then
    echo -n "$cluster: "
    kubectl exec -n monitoring $POD -- wget -qO- http://localhost:9090/api/v1/status/runtimeinfo \
      | jq -r '.data.remoteWrite[0].queueLength' 2>/dev/null || echo "FAILED"
  fi
done

echo ""
echo "=== Validation Complete ==="
```

### ì‚¬ìš©ë²•

```bash
# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ
chmod +x validate-deployment.sh

# ì‹¤í–‰
./validate-deployment.sh

# ì¶œë ¥ ì˜ˆì‹œ:
# === Thanos Multi-Cluster Deployment Validation ===
#
# --- Validating cluster-01 ---
# Pods: 12
# PVCs (Bound): 6
# Services: 8
#
# --- Validating cluster-02 ---
# Pods: 5
# PVCs (Bound): 2
# Services: 3
#
# --- Thanos Components (cluster-01) ---
# Receiver Pods: 3
# Query Pods: 2
# Store Pods: 2
# Compactor Pods: 1
#
# --- Remote Write Status ---
# cluster-03: 0  (Queue Length 0 = ì •ìƒ)
# cluster-04: 0
#
# === Validation Complete ===
```

---

## ğŸ¯ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Pod ìƒíƒœ
- [x] Cluster-01: 12ê°œ Pod Running
- [x] Cluster-02: 5ê°œ Pod Running (Multi-Tenant)
- [x] Cluster-03: 3ê°œ Pod Running
- [x] Cluster-04: 3ê°œ Pod Running

### PVC ë°”ì¸ë”©
- [x] Cluster-01: 6ê°œ PVC Bound
- [x] Cluster-02: 2ê°œ PVC Bound
- [x] Cluster-03: 1ê°œ PVC Bound
- [x] Cluster-04: 1ê°œ PVC Bound

### Service/Endpoint
- [x] Thanos Receiver Service (3 endpoints)
- [x] Thanos Query Service
- [x] Grafana Ingress ì ‘ì†

### Remote Write
- [x] Cluster-03 â†’ Receiver ì—°ê²°
- [x] Cluster-04 â†’ Receiver ì—°ê²°
- [x] Cluster-02 Tenant A/B â†’ Receiver ì—°ê²°
- [x] Remote Write Queue Length = 0
- [x] Remote Write Success Rate = 100%

### S3 ì—…ë¡œë“œ
- [x] Sidecar ë¸”ë¡ ì—…ë¡œë“œ (42ê°œ)
- [x] Store ë¸”ë¡ ë™ê¸°í™” (42ê°œ)
- [x] MinIO ë²„í‚· í™•ì¸

### ë©”íŠ¸ë¦­ ì¿¼ë¦¬
- [x] up ì¿¼ë¦¬ ì„±ê³µ (ëª¨ë“  í´ëŸ¬ìŠ¤í„°)
- [x] Tenant ê²©ë¦¬ í™•ì¸ (cluster-02)
- [x] ì‹œê³„ì—´ ì—°ì†ì„± í™•ì¸ (24h)
- [x] íˆìŠ¤í† ë¦¬ì»¬ ì¿¼ë¦¬ (7d, 30d)

### ê³ ê°€ìš©ì„±
- [x] Prometheus HA ì¤‘ë³µ ì œê±°
- [x] Receiver Replication Factor=3
- [x] Receiver ì¥ì•  ë³µêµ¬ í™•ì¸

### ì„±ëŠ¥
- [x] Remote Write ì§€ì—° < 500ms (p99)
- [x] Query ì‘ë‹µ ì‹œê°„ < 2s (p99)
- [x] Agent ë©”ëª¨ë¦¬ < 512Mi
- [x] Receiver ë©”ëª¨ë¦¬ < 2Gi

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- **ì¤‘ì•™ í´ëŸ¬ìŠ¤í„° ë°°í¬** â†’ [ì¤‘ì•™-í´ëŸ¬ìŠ¤í„°-ë°°í¬.md](./ì¤‘ì•™-í´ëŸ¬ìŠ¤í„°-ë°°í¬.md)
- **ì—£ì§€ í´ëŸ¬ìŠ¤í„° ë°°í¬** â†’ [ì—£ì§€-í´ëŸ¬ìŠ¤í„°-ë°°í¬.md](./ì—£ì§€-í´ëŸ¬ìŠ¤í„°-ë°°í¬.md)
- **ë¡¤ë°± ì ˆì°¨** â†’ [ë¡¤ë°±-ì ˆì°¨.md](./ë¡¤ë°±-ì ˆì°¨.md)
- **ìš´ì˜ ê°€ì´ë“œ** â†’ [../03-ìš´ì˜-ê°€ì´ë“œ/README.md](../03-ìš´ì˜-ê°€ì´ë“œ/README.md)

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-20
