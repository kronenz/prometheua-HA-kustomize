# DataOps í•œê¸€ ëŒ€ì‹œë³´ë“œ ë°°í¬ ì™„ë£Œ

## ğŸ“‹ ê°œìš”

dataops-v4 í´ë”ì˜ ëŒ€ì‹œë³´ë“œ êµ¬ì„±ê³¼ ë™ì¼í•œ êµ¬ì¡°ë¡œ **í•œêµ­ì–´ ë²„ì „ ëŒ€ì‹œë³´ë“œ 7ê°œ**ë¥¼ ìƒì„±í•˜ê³  ë°°í¬ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤.

ë°°í¬ ì¼ì‹œ: 2025-11-08 04:09 (UTC)

---

## ğŸ¯ ë°°í¬ëœ ëŒ€ì‹œë³´ë“œ ëª©ë¡

### 1. 00-í¬í„¸-ì¢…í•©.yaml (Portal Dashboard)
- **UID**: `dataops-portal-ko-v5`
- **ìš©ë„**: DataOps í”Œë«í¼ ì¢…í•© í¬í„¸ ëŒ€ì‹œë³´ë“œ
- **ì£¼ìš” ë©”íŠ¸ë¦­**:
  - Spark í´ëŸ¬ìŠ¤í„° Worker ìˆ˜
  - ì‹¤í–‰ ì¤‘ì¸ Application ìˆ˜
  - Pod ì¬ì‹œì‘ íšŸìˆ˜
  - ì½”ë“œ ìƒì„± ì„±ëŠ¥ (P95)
  - CPU/ë©”ëª¨ë¦¬ ì‚¬ìš© ì¶”ì´

### 2. 01-ë°°í¬-íŒŒì´í”„ë¼ì¸.yaml (Deployment Pipeline)
- **UID**: `dataops-deployment-ko-v5`
- **ìš©ë„**: Kubernetes ì›Œí¬ë¡œë“œ ë°°í¬ í˜„í™© ëª¨ë‹ˆí„°ë§
- **ì£¼ìš” ë©”íŠ¸ë¦­**:
  - ì´ Pod ìˆ˜, Running/Pending/Failed Pod
  - Pod ìƒëª…ì£¼ê¸° ì¶”ì´
  - Container ì¬ì‹œì‘ ì¶”ì´
  - Deployment/StatefulSet ìƒíƒœ
  - ìµœê·¼ ì¬ì‹œì‘ëœ Container Top 10

### 3. 02-ì• í”Œë¦¬ì¼€ì´ì…˜-ìƒíƒœ.yaml (Application Health)
- **UID**: `dataops-health-ko-v5`
- **ìš©ë„**: ëª¨ë“  ì›Œí¬ë¡œë“œì˜ ê±´ê°•ë„ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- **ì£¼ìš” ë©”íŠ¸ë¦­**:
  - ì •ìƒ Pod ë¹„ìœ¨
  - Ready/Waiting/Terminated Container ìˆ˜
  - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ Pod ìƒíƒœ
  - CrashLoopBackOff/ImagePullBackOff Container
  - OOMKilled Container
  - Readiness Probe ì‹¤íŒ¨ Top 10

### 4. 03-ë¦¬ì†ŒìŠ¤-ìš©ëŸ‰.yaml (Resource Capacity)
- **UID**: `dataops-capacity-ko-v5`
- **ìš©ë„**: í´ëŸ¬ìŠ¤í„° ì „ì²´ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
- **ì£¼ìš” ë©”íŠ¸ë¦­**:
  - CPU/ë©”ëª¨ë¦¬ í• ë‹¹ë¥  (Request ê¸°ì¤€)
  - CPU/ë©”ëª¨ë¦¬ ì‹¤ì œ ì‚¬ìš©ë¥ 
  - í• ë‹¹ vs ì‚¬ìš© ì¶”ì´
  - ë…¸ë“œë³„ CPU/ë©”ëª¨ë¦¬ ìš©ëŸ‰
  - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ PVC ì‚¬ìš©ëŸ‰
  - Podë³„ ë¦¬ì†ŒìŠ¤ í• ë‹¹ Top 10

### 5. 04-ì›Œí¬ë¡œë“œ-ì„±ëŠ¥.yaml (Workload Performance)
- **UID**: `dataops-performance-ko-v5`
- **ìš©ë„**: Spark ë° Kubernetes ì›Œí¬ë¡œë“œ ì„±ëŠ¥ ë¶„ì„
- **ì£¼ìš” ë©”íŠ¸ë¦­**:
  - Spark Workers, Apps ìˆ˜
  - Spark ì½”ë“œ ìƒì„± ì„±ëŠ¥ (P95)
  - Spark ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ìƒíƒœ
  - Container CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ Top 10
  - ë„¤íŠ¸ì›Œí¬ ìˆ˜ì‹ /ì „ì†¡ ì†ë„ Top 10
  - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰

### 6. 05-ë°ì´í„°-íŒŒì´í”„ë¼ì¸.yaml (Data Pipeline)
- **UID**: `dataops-data-ko-v5`
- **ìš©ë„**: Spark ê¸°ë°˜ ë°ì´í„° ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ëª¨ë‹ˆí„°ë§
- **ì£¼ìš” ë©”íŠ¸ë¦­**:
  - Spark Master ìƒíƒœ
  - í™œì„± Worker ë° Application ìˆ˜
  - Spark ë°ì´í„° ì²˜ë¦¬ Flow (Mermaid ë‹¤ì´ì–´ê·¸ë¨)
  - Worker CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 
  - Worker ë„¤íŠ¸ì›Œí¬ ìˆ˜ì‹ /ì „ì†¡ ì†ë„
  - Spark Pods ìƒíƒœ
  - Container ì¬ì‹œì‘ ë‚´ì—­
  - í´ëŸ¬ìŠ¤í„° ê±´ê°•ë„ ìš”ì•½

### 7. 06-ìµœì í™”-ë¬¸ì œí•´ê²°.yaml (Optimization & Troubleshooting)
- **UID**: `dataops-optimize-ko-v5`
- **ìš©ë„**: ë¦¬ì†ŒìŠ¤ ìµœì í™” ê¸°íšŒì™€ ë¬¸ì œ ì§„ë‹¨
- **ì£¼ìš” ë©”íŠ¸ë¦­**:
  - ë¬¸ì œ Pod ìˆ˜ (ë¹„ì •ìƒ ìƒíƒœ)
  - ì¬ì‹œì‘ ì¤‘ì¸ Container
  - OOMKilled/ImagePullBackOff Container
  - CPU/ë©”ëª¨ë¦¬ ê³¼ë‹¤ í• ë‹¹ Container (Request vs Usage)
  - ì¬ì‹œì‘ì´ ë§ì€ Container Top 10
  - í˜„ì¬ ë¬¸ì œ ìƒíƒœ Pod ëª©ë¡
  - ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ì••ë°• ì§€í‘œ
  - **ìµœì í™” ê¶Œì¥ì‚¬í•­ ê°€ì´ë“œ**

---

## ğŸš€ ë°°í¬ ìƒíƒœ

```bash
# ConfigMap ìƒì„± í™•ì¸
kubectl --context cluster-01 get configmap -n monitoring | grep "grafana-dashboard-dataops.*-ko-v5"
```

**ê²°ê³¼**:
```
grafana-dashboard-dataops-application-health-ko-v5        1      ì™„ë£Œ
grafana-dashboard-dataops-data-pipeline-ko-v5             1      ì™„ë£Œ
grafana-dashboard-dataops-deployment-pipeline-ko-v5       1      ì™„ë£Œ
grafana-dashboard-dataops-optimization-ko-v5              1      ì™„ë£Œ
grafana-dashboard-dataops-portal-ko-v5                    1      ì™„ë£Œ
grafana-dashboard-dataops-resource-capacity-ko-v5         1      ì™„ë£Œ
grafana-dashboard-dataops-workload-performance-ko-v5      1      ì™„ë£Œ
```

**ì´ 7ê°œ ëŒ€ì‹œë³´ë“œ ëª¨ë‘ ì •ìƒ ë°°í¬ë¨** âœ…

---

## ğŸ“‚ íŒŒì¼ ìœ„ì¹˜

```
/root/develop/thanos/deploy-new/overlays/cluster-01-central/kube-prometheus-stack/dashboards/dataops-v5-ko/
â”œâ”€â”€ 00-í¬í„¸-ì¢…í•©.yaml                (14K)
â”œâ”€â”€ 01-ë°°í¬-íŒŒì´í”„ë¼ì¸.yaml          (16K)
â”œâ”€â”€ 02-ì• í”Œë¦¬ì¼€ì´ì…˜-ìƒíƒœ.yaml        (15K)
â”œâ”€â”€ 03-ë¦¬ì†ŒìŠ¤-ìš©ëŸ‰.yaml              (19K)
â”œâ”€â”€ 04-ì›Œí¬ë¡œë“œ-ì„±ëŠ¥.yaml            (17K)
â”œâ”€â”€ 05-ë°ì´í„°-íŒŒì´í”„ë¼ì¸.yaml        (19K)
â””â”€â”€ 06-ìµœì í™”-ë¬¸ì œí•´ê²°.yaml          (23K)
```

**ì´ ìš©ëŸ‰**: ì•½ 132K

---

## ğŸ¨ ëŒ€ì‹œë³´ë“œ íŠ¹ì§•

### 1. **ì™„ì „í•œ í•œêµ­ì–´ ì§€ì›**
- ëª¨ë“  íŒ¨ë„ ì œëª©, ì„¤ëª…, ë²”ë¡€ê°€ í•œêµ­ì–´ë¡œ ì‘ì„±
- ìµœì í™” ê°€ì´ë“œ ë° ê¶Œì¥ì‚¬í•­ë„ í•œêµ­ì–´ë¡œ ì œê³µ

### 2. **Pastel ìƒ‰ìƒ í…Œë§ˆ**
- dataops-v4ì™€ ë™ì¼í•œ íŒŒìŠ¤í…” ìƒ‰ìƒ êµ¬ì„± ìœ ì§€
- ê°€ë…ì„± ë†’ì€ ìƒ‰ìƒ ë°°ì¹˜

### 3. **ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”íŠ¸ë¦­**
- âŒ Kafka, Airflow, Trino ë©”íŠ¸ë¦­ ì œê±° (ë¯¸ë°°í¬)
- âœ… Spark, Kubernetes ë©”íŠ¸ë¦­ë§Œ ì‚¬ìš©
- í˜„ì¬ í´ëŸ¬ìŠ¤í„°ì—ì„œ **ì‹¤ì œë¡œ ìˆ˜ì§‘ë˜ëŠ” ë©”íŠ¸ë¦­ë§Œ í™œìš©**

### 4. **ë¹ ë¥¸ ë„¤ë¹„ê²Œì´ì…˜**
- ëª¨ë“  ëŒ€ì‹œë³´ë“œì— ë¹ ë¥¸ ì´ë™ ë§í¬ ì œê³µ
- í¬í„¸ â†” ë°°í¬ â†” ìƒíƒœ â†” ë¦¬ì†ŒìŠ¤ â†” ì„±ëŠ¥ â†” ë°ì´í„° â†” ìµœì í™”

### 5. **Mermaid ë‹¤ì´ì–´ê·¸ë¨ í¬í•¨**
- 05-ë°ì´í„°-íŒŒì´í”„ë¼ì¸ì— Spark ì²˜ë¦¬ Flow ì‹œê°í™”
- Master â†’ Workers â†’ Applications â†’ ë°ì´í„° ì¶œë ¥

### 6. **ìƒì„¸í•œ ìµœì í™” ê°€ì´ë“œ**
- 06-ìµœì í™”-ë¬¸ì œí•´ê²° ëŒ€ì‹œë³´ë“œì— í¬í•¨
- CPU/ë©”ëª¨ë¦¬ ê³¼ë‹¤ í• ë‹¹ í•´ê²° ë°©ë²•
- ì¬ì‹œì‘ ë¬¸ì œ í•´ê²° ë°©ë²•
- ì„±ëŠ¥ ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸

---

## ğŸ” Grafanaì—ì„œ ëŒ€ì‹œë³´ë“œ í™•ì¸

### ì ‘ì† ì •ë³´
- **URL**: http://grafana.k8s-cluster-01.miribit.lab
- **Username**: admin
- **Password**: admin123

### ëŒ€ì‹œë³´ë“œ ì°¾ê¸°
1. Grafana ì ‘ì†
2. ì™¼ìª½ ë©”ë‰´ â†’ **Dashboards** í´ë¦­
3. ê²€ìƒ‰ì°½ì— **"dataops"** ë˜ëŠ” **"korean"** ë˜ëŠ” **"v5"** ì…ë ¥
4. ë‹¤ìŒ ëŒ€ì‹œë³´ë“œë“¤ì´ í‘œì‹œë¨:
   - DataOps í”Œë«í¼ - ì¢…í•© í¬í„¸
   - DataOps í”Œë«í¼ - ë°°í¬ íŒŒì´í”„ë¼ì¸
   - DataOps í”Œë«í¼ - ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ
   - DataOps í”Œë«í¼ - ë¦¬ì†ŒìŠ¤ ìš©ëŸ‰
   - DataOps í”Œë«í¼ - ì›Œí¬ë¡œë“œ ì„±ëŠ¥
   - DataOps í”Œë«í¼ - ë°ì´í„° íŒŒì´í”„ë¼ì¸
   - DataOps í”Œë«í¼ - ìµœì í™” ë° ë¬¸ì œí•´ê²°

---

## ğŸ“Š ë©”íŠ¸ë¦­ ë§¤í•‘ ë¹„êµ

| dataops-v4 (English) | dataops-v5-ko (Korean) | ë©”íŠ¸ë¦­ ë³€ê²½ ì—¬ë¶€ |
|---------------------|------------------------|-----------------|
| Kafka metrics       | Spark metrics          | âœ… ë³€ê²½ë¨       |
| Airflow metrics     | Kubernetes metrics     | âœ… ë³€ê²½ë¨       |
| Trino metrics       | Spark metrics          | âœ… ë³€ê²½ë¨       |
| Kubernetes metrics  | Kubernetes metrics     | ìœ ì§€            |
| Spark metrics       | Spark metrics          | ìœ ì§€            |

---

## âœ… ê²€ì¦ ê²°ê³¼

### 1. ConfigMap ë°°í¬ í™•ì¸
```bash
kubectl --context cluster-01 get configmap -n monitoring | grep "grafana-dashboard-dataops.*-ko-v5" | wc -l
# ê²°ê³¼: 7 (ëª¨ë‘ ë°°í¬ë¨)
```

### 2. Grafana ì¬ì‹œì‘ ì™„ë£Œ
```bash
kubectl --context cluster-01 get pods -n monitoring -l app.kubernetes.io/name=grafana
# ê²°ê³¼: kube-prometheus-stack-grafana-86c9449b65-782dv   3/3  Running
```

### 3. íŒŒì¼ ìƒì„± í™•ì¸
```bash
ls -lh /root/develop/thanos/deploy-new/overlays/cluster-01-central/kube-prometheus-stack/dashboards/dataops-v5-ko/
# ê²°ê³¼: 7ê°œ íŒŒì¼ ëª¨ë‘ ì¡´ì¬ (00~06)
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

### 1. Grafana UIì—ì„œ ëŒ€ì‹œë³´ë“œ í™•ì¸
- ê° ëŒ€ì‹œë³´ë“œ ì ‘ì†í•˜ì—¬ ì •ìƒ ë Œë”ë§ í™•ì¸
- ë©”íŠ¸ë¦­ ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ ê²€ì¦

### 2. ë©”íŠ¸ë¦­ ë°ì´í„° í™•ì¸
```bash
# Spark ë©”íŠ¸ë¦­ í™•ì¸
kubectl --context cluster-01 port-forward -n monitoring svc/prometheus-operated 9090:9090

# ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:9090 ì ‘ì†
# ë‹¤ìŒ ì¿¼ë¦¬ ì‹¤í–‰:
# - metrics_master_aliveWorkers_Value{namespace="spark"}
# - metrics_master_apps_Value{namespace="spark"}
# - up{namespace="spark"}
```

### 3. ëŒ€ì‹œë³´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§• (ì„ íƒ ì‚¬í•­)
- í•„ìš”ì‹œ íŒ¨ë„ ë ˆì´ì•„ì›ƒ ì¡°ì •
- ì¶”ê°€ ë©”íŠ¸ë¦­ ì¿¼ë¦¬ ì‘ì„±
- ì•Œë¦¼ ê·œì¹™ ì„¤ì •

---

## ğŸ“ ì°¸ê³  ë¬¸ì„œ

- [05-ëŒ€ì‹œë³´ë“œ-ë©”íŠ¸ë¦­-ë§¤í•‘.md](./05-ëŒ€ì‹œë³´ë“œ-ë©”íŠ¸ë¦­-ë§¤í•‘.md) - ë©”íŠ¸ë¦­ ë§¤í•‘ ì „ëµ
- [06-ëŒ€ì‹œë³´ë“œ-ê²€ì¦-ê²°ê³¼.md](./06-ëŒ€ì‹œë³´ë“œ-ê²€ì¦-ê²°ê³¼.md) - ë©”íŠ¸ë¦­ ê²€ì¦ ê²°ê³¼
- [04-ë°°í¬-ì „ëµ-ë°-ê¶Œì¥ì‚¬í•­.md](./04-ë°°í¬-ì „ëµ-ë°-ê¶Œì¥ì‚¬í•­.md) - ë°°í¬ ì „ëµ

---

## ğŸ‰ ê²°ë¡ 

âœ… **dataops-v4 í´ë”ì˜ ëŒ€ì‹œë³´ë“œ êµ¬ì„±ê³¼ ë™ì¼í•œ êµ¬ì¡°ë¡œ í•œêµ­ì–´ ë²„ì „ 7ê°œ ëŒ€ì‹œë³´ë“œë¥¼ ì„±ê³µì ìœ¼ë¡œ ìƒì„± ë° ë°°í¬ ì™„ë£Œ**

- ëª¨ë“  ëŒ€ì‹œë³´ë“œê°€ í•œêµ­ì–´ë¡œ ì‘ì„±ë¨
- ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”íŠ¸ë¦­ë§Œ í™œìš© (Spark, Kubernetes)
- Pastel ìƒ‰ìƒ í…Œë§ˆ ìœ ì§€
- Grafanaì—ì„œ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥
- ë¹ ë¥¸ ë„¤ë¹„ê²Œì´ì…˜ ë§í¬ ì œê³µ
- ìµœì í™” ê°€ì´ë“œ í¬í•¨

**ì ‘ì†**: http://grafana.k8s-cluster-01.miribit.lab (admin / admin123)
