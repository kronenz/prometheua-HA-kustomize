apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboard-dataops-application-health-ko-v5
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
data:
  dataops-application-health-ko-v5.json: |
    {
      "uid": "dataops-health-ko-v5",
      "title": "DataOps í”Œë«í¼ - ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ",
      "tags": ["dataops", "health", "application", "korean", "v5", "kubernetes"],
      "timezone": "browser",
      "schemaVersion": 39,
      "version": 1,
      "refresh": "30s",
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "panels": [
        {
          "title": "ğŸ“‹ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ ê°œìš”",
          "type": "text",
          "gridPos": { "x": 0, "y": 0, "w": 24, "h": 3 },
          "options": {
            "mode": "markdown",
            "content": "# ğŸ’Š DataOps ì• í”Œë¦¬ì¼€ì´ì…˜ ê±´ê°• ìƒíƒœ\n\n**ëª¨ë“  ì›Œí¬ë¡œë“œì˜ ê±´ê°•ë„**ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.\n\n- **Pod ê±´ê°• ìƒíƒœ**: Readiness/Liveness Probe ì„±ê³µë¥ \n- **Container ì•ˆì •ì„±**: OOMKilled, CrashLoopBackOff íƒì§€\n- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ ìƒíƒœ**: ê° ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ê±´ê°•ë„ ë¶„ì„\n\n---\n\n**ë¹ ë¥¸ ì´ë™**: [ğŸ  í¬í„¸](d/dataops-portal-ko-v5) | [ğŸš€ ë°°í¬](d/dataops-deployment-ko-v5) | [ğŸ“Š ë¦¬ì†ŒìŠ¤](d/dataops-capacity-ko-v5) | [âš¡ ì„±ëŠ¥](d/dataops-performance-ko-v5) | [ğŸ”„ ë°ì´í„°](d/dataops-data-ko-v5) | [ğŸ”§ ìµœì í™”](d/dataops-optimize-ko-v5)"
          }
        },
        {
          "title": "1ï¸âƒ£ ì •ìƒ Pod ë¹„ìœ¨",
          "type": "stat",
          "gridPos": { "x": 0, "y": 3, "w": 6, "h": 4 },
          "description": "**Running ìƒíƒœ Pod ë¹„ìœ¨**\n\nì „ì²´ Pod ì¤‘ ì •ìƒ ì‹¤í–‰ ì¤‘ì¸ Podì˜ ë¹„ìœ¨ì…ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "count(kube_pod_status_phase{phase=\"Running\"}) / count(kube_pod_info) * 100",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": { "mode": "thresholds" },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  { "value": null, "color": "#FADBD8" },
                  { "value": 80, "color": "#FCF3CF" },
                  { "value": 95, "color": "#D5F4E6" }
                ]
              },
              "unit": "percent",
              "decimals": 1
            }
          },
          "options": {
            "graphMode": "area",
            "colorMode": "background",
            "textMode": "value_and_name"
          }
        },
        {
          "title": "2ï¸âƒ£ Ready Containers",
          "type": "stat",
          "gridPos": { "x": 6, "y": 3, "w": 6, "h": 4 },
          "description": "**Ready ìƒíƒœ Container ìˆ˜**\n\nReadiness Probeë¥¼ í†µê³¼í•œ Container ê°œìˆ˜ì…ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "sum(kube_pod_container_status_ready)",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": { "mode": "palette-classic" },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  { "value": null, "color": "#D6EAF8" }
                ]
              },
              "unit": "short"
            }
          },
          "options": {
            "graphMode": "area",
            "colorMode": "background",
            "textMode": "value_and_name"
          }
        },
        {
          "title": "3ï¸âƒ£ Waiting Containers",
          "type": "stat",
          "gridPos": { "x": 12, "y": 3, "w": 6, "h": 4 },
          "description": "**ëŒ€ê¸° ì¤‘ì¸ Container**\n\nWaiting ìƒíƒœì˜ Container ìˆ˜ì…ë‹ˆë‹¤. ImagePullBackOff, CrashLoopBackOff ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "sum(kube_pod_container_status_waiting) or vector(0)",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": { "mode": "thresholds" },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  { "value": null, "color": "#D5F4E6" },
                  { "value": 1, "color": "#FCF3CF" },
                  { "value": 5, "color": "#FADBD8" }
                ]
              },
              "unit": "short"
            }
          },
          "options": {
            "graphMode": "area",
            "colorMode": "background",
            "textMode": "value_and_name"
          }
        },
        {
          "title": "4ï¸âƒ£ Terminated Containers",
          "type": "stat",
          "gridPos": { "x": 18, "y": 3, "w": 6, "h": 4 },
          "description": "**ì¢…ë£Œëœ Container**\n\nTerminated ìƒíƒœì˜ Container ìˆ˜ì…ë‹ˆë‹¤. OOMKilled, Error ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "sum(kube_pod_container_status_terminated) or vector(0)",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": { "mode": "thresholds" },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  { "value": null, "color": "#D5F4E6" },
                  { "value": 1, "color": "#FCF3CF" },
                  { "value": 3, "color": "#FADBD8" }
                ]
              },
              "unit": "short"
            }
          },
          "options": {
            "graphMode": "area",
            "colorMode": "background",
            "textMode": "value_and_name"
          }
        },
        {
          "title": "ğŸ“Š ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ Pod ìƒíƒœ",
          "type": "timeseries",
          "gridPos": { "x": 0, "y": 7, "w": 12, "h": 8 },
          "description": "**ê° ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ Pod ê°œìˆ˜**\n\në„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ Running Pod ê°œìˆ˜ë¥¼ ì‹œê°„ì— ë”°ë¼ ì¶”ì í•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "count(kube_pod_status_phase{phase=\"Running\"}) by (namespace)",
              "legendFormat": "{{namespace}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": { "mode": "palette-classic" },
              "custom": {
                "lineWidth": 2,
                "fillOpacity": 20,
                "pointSize": 5,
                "spanNulls": true
              },
              "unit": "short"
            }
          },
          "options": {
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "calcs": ["lastNotNull", "max"]
            }
          }
        },
        {
          "title": "ğŸ”„ Container ì¬ì‹œì‘ ë¹„ìœ¨ (5m)",
          "type": "timeseries",
          "gridPos": { "x": 12, "y": 7, "w": 12, "h": 8 },
          "description": "**Container ì¬ì‹œì‘ ì†ë„**\n\n5ë¶„ê°„ Container ì¬ì‹œì‘ ë¹„ìœ¨ì„ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ë¡œ ì¶”ì í•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "sum(rate(kube_pod_container_status_restarts_total[5m])) by (namespace)",
              "legendFormat": "{{namespace}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": { "mode": "palette-classic" },
              "custom": {
                "lineWidth": 2,
                "fillOpacity": 10,
                "pointSize": 5,
                "spanNulls": true
              },
              "unit": "reqps"
            }
          },
          "options": {
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "calcs": ["lastNotNull", "max"]
            }
          }
        },
        {
          "title": "âš ï¸ CrashLoopBackOff Containers",
          "type": "table",
          "gridPos": { "x": 0, "y": 15, "w": 12, "h": 8 },
          "description": "**ë°˜ë³µì ìœ¼ë¡œ ì‹¤íŒ¨í•˜ëŠ” Container**\n\nCrashLoopBackOff ìƒíƒœì˜ Containerë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "kube_pod_container_status_waiting_reason{reason=\"CrashLoopBackOff\"}",
              "format": "table",
              "instant": true,
              "refId": "A"
            }
          ],
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "job": true,
                  "instance": true,
                  "uid": true,
                  "reason": true,
                  "Value": true
                },
                "renameByName": {
                  "namespace": "Namespace",
                  "pod": "Pod",
                  "container": "Container"
                }
              }
            }
          ],
          "options": {
            "showHeader": true,
            "cellHeight": "sm",
            "footer": {
              "show": false
            }
          },
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "left"
              }
            }
          }
        },
        {
          "title": "ğŸ–¼ï¸ ImagePullBackOff Containers",
          "type": "table",
          "gridPos": { "x": 12, "y": 15, "w": 12, "h": 8 },
          "description": "**ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨ Container**\n\nImagePullBackOff ìƒíƒœì˜ Containerë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "kube_pod_container_status_waiting_reason{reason=~\"ImagePullBackOff|ErrImagePull\"}",
              "format": "table",
              "instant": true,
              "refId": "A"
            }
          ],
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "job": true,
                  "instance": true,
                  "uid": true,
                  "Value": true
                },
                "renameByName": {
                  "namespace": "Namespace",
                  "pod": "Pod",
                  "container": "Container",
                  "reason": "Reason"
                }
              }
            }
          ],
          "options": {
            "showHeader": true,
            "cellHeight": "sm",
            "footer": {
              "show": false
            }
          },
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "left"
              }
            }
          }
        },
        {
          "title": "ğŸ’€ OOMKilled Containers (ìµœê·¼ 1ì‹œê°„)",
          "type": "table",
          "gridPos": { "x": 0, "y": 23, "w": 12, "h": 8 },
          "description": "**ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì¢…ë£Œëœ Container**\n\nìµœê·¼ 1ì‹œê°„ ë‚´ì— OOMKilledëœ Containerë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "kube_pod_container_status_terminated_reason{reason=\"OOMKilled\"}",
              "format": "table",
              "instant": true,
              "refId": "A"
            }
          ],
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "job": true,
                  "instance": true,
                  "uid": true,
                  "reason": true,
                  "Value": true
                },
                "renameByName": {
                  "namespace": "Namespace",
                  "pod": "Pod",
                  "container": "Container"
                }
              }
            }
          ],
          "options": {
            "showHeader": true,
            "cellHeight": "sm",
            "footer": {
              "show": false
            }
          },
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "left"
              }
            }
          }
        },
        {
          "title": "ğŸ©º Readiness Probe ì‹¤íŒ¨ (Top 10)",
          "type": "table",
          "gridPos": { "x": 12, "y": 23, "w": 12, "h": 8 },
          "description": "**Readiness Probe ì‹¤íŒ¨ Container**\n\nReady ìƒíƒœê°€ ì•„ë‹Œ Containerë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "topk(10, kube_pod_container_status_ready == 0)",
              "format": "table",
              "instant": true,
              "refId": "A"
            }
          ],
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "job": true,
                  "instance": true,
                  "uid": true,
                  "Value": true
                },
                "renameByName": {
                  "namespace": "Namespace",
                  "pod": "Pod",
                  "container": "Container"
                }
              }
            }
          ],
          "options": {
            "showHeader": true,
            "cellHeight": "sm",
            "footer": {
              "show": false
            }
          },
          "fieldConfig": {
            "defaults": {
              "custom": {
                "align": "left"
              }
            }
          }
        },
        {
          "title": "ğŸ“ˆ Pod ê±´ê°•ë„ ì¶”ì´",
          "type": "timeseries",
          "gridPos": { "x": 0, "y": 31, "w": 24, "h": 8 },
          "description": "**ì „ì²´ í´ëŸ¬ìŠ¤í„° ê±´ê°•ë„**\n\nRunning Pod ë¹„ìœ¨ì„ ì‹œê°„ì— ë”°ë¼ ì¶”ì í•©ë‹ˆë‹¤.",
          "targets": [
            {
              "expr": "count(kube_pod_status_phase{phase=\"Running\"}) / count(kube_pod_info) * 100",
              "legendFormat": "Running Pod %",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": { "mode": "palette-classic" },
              "custom": {
                "lineWidth": 3,
                "fillOpacity": 30,
                "pointSize": 5,
                "spanNulls": true
              },
              "unit": "percent",
              "min": 0,
              "max": 100,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  { "value": null, "color": "transparent" },
                  { "value": 80, "color": "red" },
                  { "value": 95, "color": "green" }
                ]
              }
            },
            "overrides": [
              {
                "matcher": { "id": "byName", "options": "Running Pod %" },
                "properties": [{ "id": "color", "value": { "fixedColor": "#D5F4E6", "mode": "fixed" } }]
              }
            ]
          },
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            }
          }
        }
      ]
    }
